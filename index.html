<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>韓語學習小站 — 40音＋200對話（瀏覽器語音）</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="./manifest.json" />
  <meta name="theme-color" content="#ff6680" />
  <style>
    :root { --pink:#ff6680; --sub:#ffe6eb; --bg:#fdfdfd; }
    body { font-family: "Microsoft JhengHei", system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans CJK TC", sans-serif; margin:0; background:var(--bg); color:#222; }
    header { background:var(--pink); color:#fff; padding:16px; text-align:center; }
    nav { position:sticky; top:0; background:var(--sub); padding:10px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap; z-index:10; }
    nav a { padding:8px 12px; font-weight:700; text-decoration:none; color:#333; background:#fff; border-radius:20px; border:1px solid #f1c2cc; }
    section { padding:16px; max-width:1100px; margin:0 auto; }
    h2 { color:var(--pink); margin:8px 0 12px; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(64px,1fr)); gap:10px; }
    .card { background:#fff; border:1px solid #f2d5dc; border-radius:10px; padding:10px; text-align:center; cursor:pointer; }
    .k{ font-size:26px; font-weight:900; }
    .small { font-size:12px; color:#666; margin-top:6px; }
    .box { background:#fff; border:1px solid #f2d5dc; border-radius:12px; padding:12px; margin:10px 0; }
    .row { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .btn { border:0; background:var(--pink); color:#fff; padding:8px 12px; border-radius:8px; font-weight:700; cursor:pointer; }
    .btn.outline { background:#fff; color:var(--pink); border:2px solid var(--pink); }
    .search { width:100%; padding:10px 12px; border-radius:8px; border:1px solid #e8b9c4; }
    .dialogue { display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; border-bottom:1px dashed #f0c5cf; padding:10px 0; }
    .ko { font-weight:800; font-size:18px; }
    .zh { color:#444; font-size:14px; }
    .tag { font-size:12px; color:#666; }
    select, input[type=range] { padding:6px; border:1px solid #e8b9c4; border-radius:8px; }
    label { font-size:12px; color:#555; margin-right:6px; }
  </style>
</head>
<body>
  <header>
    <h1>韓語學習小站</h1>
    <p>40 音 + 200 組日常對話（瀏覽器內建語音，點按播放）</p>
  </header>

  <nav>
    <a href="#alphabet">40 音</a>
    <a href="#dialogues">200 組對話</a>
    <a href="#voice">語音設定</a>
  </nav>

  <section id="voice">
    <h2>語音設定</h2>
    <div class="box row">
      <label>選擇語音：</label>
      <select id="voiceSelect"></select>
      <label>速度</label>
      <input id="rate" type="range" min="0.6" max="1.4" step="0.05" value="1">
      <label>音調</label>
      <input id="pitch" type="range" min="0.6" max="1.4" step="0.05" value="1">
      <button class="btn" id="testBtn">▶ 測試：안녕하세요</button>
      <div class="small">提示：若沒有韓文語音可選，請在手機系統設定下載「韓文（韓國）」的語音。</div>
    </div>
  </section>

  <section id="alphabet">
    <h2>韓文 40 音</h2>
    <div class="box">
      <p>點按即可播放示例音節：母音用 ㅇ 作虛音（如 <b>아, 에</b>），子音用常見音節示範（如 <b>가, 따, 바</b>）。</p>
    </div>
    <details open>
      <summary>母音（21）</summary>
      <div id="vowels" class="grid"></div>
    </details>
    <details open>
      <summary>子音（19）</summary>
      <div id="consonants" class="grid"></div>
    </details>
  </section>

  <section id="dialogues">
    <h2>日常對話（200 組，含 50 組飾品情境）</h2>
    <div class="box row">
      <input id="q" class="search" placeholder="搜尋主題或韓文內容（例：飾品／지하철／가격）" />
      <button class="btn outline" onclick="resetFilter()">清除搜尋</button>
    </div>
    <div id="dialogueList"></div>
  </section>

  <footer>© 2025 韓語學習小站 — PWA 可離線使用</footer>

  <script>
    // ========= Browser TTS helpers =========
    let VOICES = [];
    let currentVoice = null;

    function loadVoices() {
      VOICES = window.speechSynthesis.getVoices();
      const sel = document.getElementById('voiceSelect');
      sel.innerHTML = '';
      // prefer ko
      const sorted = VOICES.slice().sort((a,b)=> (a.lang||'').localeCompare(b.lang||''));
      sorted.forEach((v, idx)=> {
        const opt = document.createElement('option');
        opt.value = v.name;
        opt.textContent = `${v.name} — ${v.lang}`;
        sel.appendChild(opt);
      });
      // pick a ko voice if exists
      const ko = sorted.find(v => (v.lang||'').toLowerCase().startsWith('ko'));
      if (ko) {
        sel.value = ko.name;
        currentVoice = ko;
      } else if (sorted[0]) {
        sel.value = sorted[0].name;
        currentVoice = sorted[0];
      }
    }
    window.speechSynthesis.onvoiceschanged = loadVoices;
    loadVoices();

    function speak(text) {
      const msg = new SpeechSynthesisUtterance(text);
      const rate = parseFloat(document.getElementById('rate').value || '1');
      const pitch = parseFloat(document.getElementById('pitch').value || '1');
      msg.rate = rate; msg.pitch = pitch;
      const sel = document.getElementById('voiceSelect');
      const pick = VOICES.find(v => v.name === sel.value);
      if (pick) msg.voice = pick;
      // Default to Korean if the selected voice is not Korean and the text is Korean
      if ((!pick || !(pick.lang||'').toLowerCase().startsWith('ko')) && /[가-힣]/.test(text)) {
        const ko = VOICES.find(v => (v.lang||'').toLowerCase().startsWith('ko'));
        if (ko) msg.voice = ko;
        msg.lang = 'ko-KR';
      }
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(msg);
    }

    document.getElementById('testBtn').addEventListener('click', ()=>speak('안녕하세요'));

    // ========= Data =========
    const VOWELS = [{"j": "ㅏ", "ex": "아", "note": "a"}, {"j": "ㅐ", "ex": "애", "note": "ae"}, {"j": "ㅑ", "ex": "야", "note": "ya"}, {"j": "ㅒ", "ex": "얘", "note": "yae"}, {"j": "ㅓ", "ex": "어", "note": "eo"}, {"j": "ㅔ", "ex": "에", "note": "e"}, {"j": "ㅕ", "ex": "여", "note": "yeo"}, {"j": "ㅖ", "ex": "예", "note": "ye"}, {"j": "ㅗ", "ex": "오", "note": "o"}, {"j": "ㅘ", "ex": "와", "note": "wa"}, {"j": "ㅙ", "ex": "왜", "note": "wae"}, {"j": "ㅚ", "ex": "외", "note": "oe"}, {"j": "ㅛ", "ex": "요", "note": "yo"}, {"j": "ㅜ", "ex": "우", "note": "u"}, {"j": "ㅝ", "ex": "워", "note": "wo"}, {"j": "ㅞ", "ex": "웨", "note": "we"}, {"j": "ㅟ", "ex": "위", "note": "wi"}, {"j": "ㅠ", "ex": "유", "note": "yu"}, {"j": "ㅡ", "ex": "으", "note": "eu"}, {"j": "ㅢ", "ex": "의", "note": "ui"}, {"j": "ㅣ", "ex": "이", "note": "i"}];
    const CONSONANTS = [{"j": "ㄱ", "ex": "가", "note": "g/k"}, {"j": "ㄲ", "ex": "까", "note": "kk"}, {"j": "ㄴ", "ex": "나", "note": "n"}, {"j": "ㄷ", "ex": "다", "note": "d/t"}, {"j": "ㄸ", "ex": "따", "note": "tt"}, {"j": "ㄹ", "ex": "라", "note": "r/l"}, {"j": "ㅁ", "ex": "마", "note": "m"}, {"j": "ㅂ", "ex": "바", "note": "b/p"}, {"j": "ㅃ", "ex": "빠", "note": "pp"}, {"j": "ㅅ", "ex": "사", "note": "s"}, {"j": "ㅆ", "ex": "싸", "note": "ss"}, {"j": "ㅇ", "ex": "아", "note": "∅/ng"}, {"j": "ㅈ", "ex": "자", "note": "j"}, {"j": "ㅉ", "ex": "짜", "note": "jj"}, {"j": "ㅊ", "ex": "차", "note": "ch"}, {"j": "ㅋ", "ex": "카", "note": "k"}, {"j": "ㅌ", "ex": "타", "note": "t"}, {"j": "ㅍ", "ex": "파", "note": "p"}, {"j": "ㅎ", "ex": "하", "note": "h"}];
    const DIALOGUES = [{"tag": "飾品購買", "ko": ["이 목걸이 얼마예요?", "네, 가능합니다."], "zh": ["這條項鍊多少錢？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이 반지 다른 색 있어요?", "죄송하지만 현재는 어렵습니다."], "zh": ["這個戒指有其他顏色嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["할인 되나요?", "잠시만요, 확인해 드릴게요."], "zh": ["有折扣嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["재질이 무엇이에요?", "네, 할인 적용 가능합니다."], "zh": ["材質是什麼？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["보증서 있어요?", "네, 가능합니다."], "zh": ["有保固書嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["선물 포장 가능한가요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以做成禮盒包裝嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["교환할 수 있나요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以換貨嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["사이즈 조절 되나요?", "네, 할인 적용 가능합니다."], "zh": ["可以調整尺寸嗎？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["더 작은 사이즈 있어요?", "네, 가능합니다."], "zh": ["有更小尺寸嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이건 실버예요 아니면 도금이에요?", "죄송하지만 현재는 어렵습니다."], "zh": ["這是純銀還是電鍍？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["카드로 결제돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以刷卡嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["배송은 얼마나 걸리나요?", "네, 할인 적용 가능합니다."], "zh": ["運送需要多久？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["수선 서비스 있나요?", "네, 가능합니다."], "zh": ["有維修服務嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이 디자인 더 있어요?", "죄송하지만 현재는 어렵습니다."], "zh": ["有更多這種設計嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["이거 할인 중인가요?", "잠시만요, 확인해 드릴게요."], "zh": ["這個正在打折嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["포인트 적립 되나요?", "네, 할인 적용 가능합니다."], "zh": ["可以累積點數嗎？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["원하시면 사이즈 재어 드릴게요.", "네, 가능합니다."], "zh": ["要的話我可以幫您量尺寸。", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["인증서 보여 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["請出示證書。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["해외 배송도 가능한가요?", "잠시만요, 확인해 드릴게요."], "zh": ["也可以海外配送嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["이 반지 착용감이 어떤가요?", "네, 할인 적용 가능합니다."], "zh": ["戴起來的感覺如何？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["세트로 구매하면 할인 되나요?", "네, 가능합니다."], "zh": ["如果買成套有折扣嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["한 번 착용해 봐도 될까요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以試戴一次嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["이건 새상품인가요?", "잠시만요, 확인해 드릴게요."], "zh": ["這是全新品嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["수리 비용은 얼마예요?", "네, 할인 적용 가능합니다."], "zh": ["維修費用是多少？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["이 보석은 진짜인가요?", "네, 가능합니다."], "zh": ["這顆寶石是真的嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이것을 깎아 드릴 수 있나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以幫我刻字嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["포인트 사용할게요.", "잠시만요, 확인해 드릴게요."], "zh": ["我要使用點數。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["영수증 주세요.", "네, 할인 적용 가능합니다."], "zh": ["請給我收據。", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["환불 가능한 기간이 어떻게 되나요?", "네, 가능합니다."], "zh": ["可以退貨的期限是多久？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이거 선물하려는데 추천해 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["我想送禮，請推薦。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["대량 구매하면 가격이 어떻게 되나요?", "잠시만요, 확인해 드릴게요."], "zh": ["大量購買價格如何？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["색상 변경 가능한가요?", "네, 할인 적용 가능합니다."], "zh": ["可以換顏色嗎？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["저희 예산은 이 정도예요.", "네, 가능합니다."], "zh": ["我們的預算大約是這個。", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이 디자인은 한정판인가요?", "죄송하지만 현재는 어렵습니다."], "zh": ["這是限量版嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["세척 방법을 알려 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請告訴我清洗方法。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["포장 없이 가져가도 될까요?", "네, 할인 적용 가능합니다."], "zh": ["不包裝可以帶走嗎？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["재고가 있나요?", "네, 가능합니다."], "zh": ["有庫存嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["선물용 카드 좀 넣어 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["請幫我放一張禮物卡。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["반지 끼는 손가락 알려 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請告訴我要戴哪個手指。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["같은 디자인 다른 사이즈 있나요?", "네, 할인 적용 가능합니다."], "zh": ["同款有其他尺寸嗎？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["배송 추적 번호 알려 주세요.", "네, 가능합니다."], "zh": ["請提供運送追蹤號碼。", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이건 수제작인가요?", "죄송하지만 현재는 어렵습니다."], "zh": ["這是手工製作嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["증정품 있나요?", "잠시만요, 확인해 드릴게요."], "zh": ["有贈品嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["현금영수증 발급 가능한가요?", "네, 할인 적용 가능합니다."], "zh": ["可以開立現金收據嗎？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["수령 후 리뷰 작성하면 할인되나요?", "네, 가능합니다."], "zh": ["寫評論後會有折扣嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["포인트로 전액 결제할 수 있나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以用點數全額付款嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["상품 보관 방법 알려 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請告訴我商品的保存方式。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["이 목걸이 얼마예요?", "네, 할인 적용 가능합니다."], "zh": ["這條項鍊多少錢？", "是的，可以折扣。"]}, {"tag": "飾品購買", "ko": ["이 반지 다른 색 있어요?", "네, 가능합니다."], "zh": ["這個戒指有其他顏色嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["할인 되나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["有折扣嗎？", "抱歉，目前不行。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "아니요, 불가능합니다."], "zh": ["可以預訂電影票嗎？", "不行。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "괜찮아요, 다음에 봐요."], "zh": ["這個商品可以退貨嗎？", "沒關係，下次見。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "네, 가능합니다."], "zh": ["地鐵站在哪裡？", "可以的。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "네, 가능합니다."], "zh": ["可以分享照片嗎？", "可以的。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "가격은 이만 원입니다."], "zh": ["今天氣溫如何？", "價格是兩萬韓元。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "가격은 이만 원입니다."], "zh": ["地鐵站在哪裡？", "價格是兩萬韓元。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "네, 가능합니다."], "zh": ["這個產品的保存期限是？", "可以的。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "네, 곧 준비해 드리겠습니다."], "zh": ["從這裡到弘大怎麼去？", "好的，馬上為您準備。"]}, {"tag": "咖啡店", "ko": ["라떼 한 잔 부탁해요.", "네, 가능합니다."], "zh": ["請給我一杯拿鐵。", "可以的。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "네, 가능합니다."], "zh": ["早餐從幾點開始？", "可以的。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "네, 곧 준비해 드리겠습니다."], "zh": ["可以分享照片嗎？", "好的，馬上為您準備。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "가격은 이만 원입니다."], "zh": ["地鐵站在哪裡？", "價格是兩萬韓元。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "아니요, 불가능합니다."], "zh": ["我想預約看診。", "不行。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "네, 가능합니다."], "zh": ["你喜歡韓國食物嗎？", "可以的。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "가격은 이만 원입니다."], "zh": ["你喜歡韓國食物嗎？", "價格是兩萬韓元。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "네, 가능합니다."], "zh": ["這個商品可以退貨嗎？", "可以的。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "네, 가능합니다."], "zh": ["早餐從幾點開始？", "可以的。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "아니요, 불가능합니다."], "zh": ["可以分享照片嗎？", "不行。"]}, {"tag": "朋友聊天", "ko": ["최근 어떻게 지내요?", "네, 곧 준비해 드리겠습니다."], "zh": ["最近過得怎麼樣？", "好的，馬上為您準備。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "가격은 이만 원입니다."], "zh": ["課程幾點結束？", "價格是兩萬韓元。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "가격은 이만 원입니다."], "zh": ["我想預約看診。", "價格是兩萬韓元。"]}, {"tag": "朋友聊天", "ko": ["최근 어떻게 지내요?", "가격은 이만 원입니다."], "zh": ["最近過得怎麼樣？", "價格是兩萬韓元。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "네, 가능합니다."], "zh": ["請告訴我營業時間。", "可以的。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "가격은 이만 원입니다."], "zh": ["你喜歡韓國食物嗎？", "價格是兩萬韓元。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "잠시만요, 확인해 드릴게요."], "zh": ["這個產品的保存期限是？", "請稍等，我確認一下。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "가격은 이만 원입니다."], "zh": ["我想預約看診。", "價格是兩萬韓元。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "가격은 이만 원입니다."], "zh": ["從這裡到弘大怎麼去？", "價格是兩萬韓元。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "가격은 이만 원입니다."], "zh": ["地鐵站在哪裡？", "價格是兩萬韓元。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["這個產品的保存期限是？", "好的，馬上為您準備。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "네, 곧 준비해 드리겠습니다."], "zh": ["可以分享照片嗎？", "好的，馬上為您準備。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "네, 곧 준비해 드리겠습니다."], "zh": ["可以預訂電影票嗎？", "好的，馬上為您準備。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "네, 곧 준비해 드리겠습니다."], "zh": ["你喜歡韓國食物嗎？", "好的，馬上為您準備。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["今天氣溫如何？", "請稍等，我確認一下。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "아니요, 불가능합니다."], "zh": ["早餐從幾點開始？", "不行。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "네, 가능합니다."], "zh": ["早餐從幾點開始？", "可以的。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "잠시만요, 확인해 드릴게요."], "zh": ["你喜歡韓國食物嗎？", "請稍等，我確認一下。"]}, {"tag": "節慶", "ko": ["축하해요!", "네, 곧 준비해 드리겠습니다."], "zh": ["恭喜！", "好的，馬上為您準備。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "괜찮아요, 다음에 봐요."], "zh": ["可以預訂電影票嗎？", "沒關係，下次見。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "잠시만요, 확인해 드릴게요."], "zh": ["會籍價格是多少？", "請稍等，我確認一下。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "네, 가능합니다."], "zh": ["這個工作的截止日是什麼時候？", "可以的。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "가격은 이만 원입니다."], "zh": ["我想預約看診。", "價格是兩萬韓元。"]}, {"tag": "咖啡店", "ko": ["라떼 한 잔 부탁해요.", "아니요, 불가능합니다."], "zh": ["請給我一杯拿鐵。", "不行。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "아니요, 불가능합니다."], "zh": ["可以預訂電影票嗎？", "不行。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "네, 곧 준비해 드리겠습니다."], "zh": ["你有帶作品集嗎？", "好的，馬上為您準備。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "괜찮아요, 다음에 봐요."], "zh": ["地鐵站在哪裡？", "沒關係，下次見。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "가격은 이만 원입니다."], "zh": ["從這裡到弘大怎麼去？", "價格是兩萬韓元。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "잠시만요, 확인해 드릴게요."], "zh": ["你喜歡韓國食物嗎？", "請稍等，我確認一下。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "괜찮아요, 다음에 봐요."], "zh": ["可以預訂電影票嗎？", "沒關係，下次見。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "가격은 이만 원입니다."], "zh": ["今天氣溫如何？", "價格是兩萬韓元。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "가격은 이만 원입니다."], "zh": ["你有帶作品集嗎？", "價格是兩萬韓元。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "네, 가능합니다."], "zh": ["會籍價格是多少？", "可以的。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "잠시만요, 확인해 드릴게요."], "zh": ["從這裡到弘大怎麼去？", "請稍等，我確認一下。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "괜찮아요, 다음에 봐요."], "zh": ["你有帶作品集嗎？", "沒關係，下次見。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "네, 가능합니다."], "zh": ["從這裡到弘大怎麼去？", "可以的。"]}, {"tag": "朋友聊天", "ko": ["최근 어떻게 지내요?", "괜찮아요, 다음에 봐요."], "zh": ["最近過得怎麼樣？", "沒關係，下次見。"]}, {"tag": "文化", "ko": ["한국 음식 좋아하세요?", "괜찮아요, 다음에 봐요."], "zh": ["你喜歡韓國食物嗎？", "沒關係，下次見。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "잠시만요, 확인해 드릴게요."], "zh": ["會籍價格是多少？", "請稍等，我確認一下。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "괜찮아요, 다음에 봐요."], "zh": ["這個商品可以退貨嗎？", "沒關係，下次見。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "네, 가능합니다."], "zh": ["今天氣溫如何？", "可以的。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "잠시만요, 확인해 드릴게요."], "zh": ["會籍價格是多少？", "請稍等，我確認一下。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "가격은 이만 원입니다."], "zh": ["請告訴我營業時間。", "價格是兩萬韓元。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "네, 곧 준비해 드리겠습니다."], "zh": ["我想預約看診。", "好的，馬上為您準備。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "아니요, 불가능합니다."], "zh": ["地鐵站在哪裡？", "不行。"]}, {"tag": "朋友聊天", "ko": ["최근 어떻게 지내요?", "아니요, 불가능합니다."], "zh": ["最近過得怎麼樣？", "不行。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "네, 곧 준비해 드리겠습니다."], "zh": ["早餐從幾點開始？", "好的，馬上為您準備。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "네, 곧 준비해 드리겠습니다."], "zh": ["這個商品可以退貨嗎？", "好的，馬上為您準備。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "아니요, 불가능합니다."], "zh": ["從這裡到弘大怎麼去？", "不行。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["會籍價格是多少？", "好的，馬上為您準備。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以分享照片嗎？", "請稍等，我確認一下。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "네, 곧 준비해 드리겠습니다."], "zh": ["課程幾點結束？", "好的，馬上為您準備。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以分享照片嗎？", "請稍等，我確認一下。"]}, {"tag": "咖啡店", "ko": ["라떼 한 잔 부탁해요.", "잠시만요, 확인해 드릴게요."], "zh": ["請給我一杯拿鐵。", "請稍等，我確認一下。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "아니요, 불가능합니다."], "zh": ["這個商品可以退貨嗎？", "不行。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "네, 가능합니다."], "zh": ["課程幾點結束？", "可以的。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "아니요, 불가능합니다."], "zh": ["請告訴我營業時間。", "不行。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "괜찮아요, 다음에 봐요."], "zh": ["早餐從幾點開始？", "沒關係，下次見。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "네, 가능합니다."], "zh": ["早餐從幾點開始？", "可以的。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "가격은 이만 원입니다."], "zh": ["你有帶作品集嗎？", "價格是兩萬韓元。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請告訴我營業時間。", "請稍等，我確認一下。"]}, {"tag": "朋友聊天", "ko": ["최근 어떻게 지내요?", "네, 가능합니다."], "zh": ["最近過得怎麼樣？", "可以的。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "네, 곧 준비해 드리겠습니다."], "zh": ["課程幾點結束？", "好的，馬上為您準備。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以分享照片嗎？", "請稍等，我確認一下。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "가격은 이만 원입니다."], "zh": ["這個工作的截止日是什麼時候？", "價格是兩萬韓元。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "아니요, 불가능합니다."], "zh": ["可以預訂電影票嗎？", "不行。"]}, {"tag": "節慶", "ko": ["축하해요!", "가격은 이만 원입니다."], "zh": ["恭喜！", "價格是兩萬韓元。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["地鐵站在哪裡？", "好的，馬上為您準備。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "네, 곧 준비해 드리겠습니다."], "zh": ["可以分享照片嗎？", "好的，馬上為您準備。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "네, 곧 준비해 드리겠습니다."], "zh": ["這個商品可以退貨嗎？", "好的，馬上為您準備。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "네, 가능합니다."], "zh": ["這個商品可以退貨嗎？", "可以的。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "괜찮아요, 다음에 봐요."], "zh": ["你有帶作品集嗎？", "沒關係，下次見。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "네, 가능합니다."], "zh": ["這個商品可以退貨嗎？", "可以的。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "네, 가능합니다."], "zh": ["這個產品的保存期限是？", "可以的。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["這個產品的保存期限是？", "好的，馬上為您準備。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "네, 가능합니다."], "zh": ["請告訴我營業時間。", "可以的。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "가격은 이만 원입니다."], "zh": ["可以預訂電影票嗎？", "價格是兩萬韓元。"]}, {"tag": "交通", "ko": ["지하철역이 어디예요?", "네, 가능합니다."], "zh": ["地鐵站在哪裡？", "可以的。"]}, {"tag": "餐廳", "ko": ["메뉴 추천해 주세요.", "가격은 이만 원입니다."], "zh": ["請推薦菜單。", "價格是兩萬韓元。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "가격은 이만 원입니다."], "zh": ["課程幾點結束？", "價格是兩萬韓元。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "잠시만요, 확인해 드릴게요."], "zh": ["我想預約看診。", "請稍等，我確認一下。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "네, 가능합니다."], "zh": ["這個工作的截止日是什麼時候？", "可以的。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "아니요, 불가능합니다."], "zh": ["從這裡到弘大怎麼去？", "不行。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["這個工作的截止日是什麼時候？", "好的，馬上為您準備。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "괜찮아요, 다음에 봐요."], "zh": ["課程幾點結束？", "沒關係，下次見。"]}, {"tag": "電話", "ko": ["번호 좀 알려 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請告訴我電話號碼。", "請稍等，我確認一下。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "잠시만요, 확인해 드릴게요."], "zh": ["這個工作的截止日是什麼時候？", "請稍等，我確認一下。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "네, 가능합니다."], "zh": ["你有帶作品集嗎？", "可以的。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "네, 곧 준비해 드리겠습니다."], "zh": ["我想預約看診。", "好的，馬上為您準備。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["會籍價格是多少？", "好的，馬上為您準備。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "잠시만요, 확인해 드릴게요."], "zh": ["你有帶作品集嗎？", "請稍等，我確認一下。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "아니요, 불가능합니다."], "zh": ["從這裡到弘大怎麼去？", "不行。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "괜찮아요, 다음에 봐요."], "zh": ["我想預約看診。", "沒關係，下次見。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "괜찮아요, 다음에 봐요."], "zh": ["可以預訂電影票嗎？", "沒關係，下次見。"]}, {"tag": "電話", "ko": ["번호 좀 알려 주세요.", "네, 곧 준비해 드리겠습니다."], "zh": ["請告訴我電話號碼。", "好的，馬上為您準備。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "가격은 이만 원입니다."], "zh": ["請告訴我營業時間。", "價格是兩萬韓元。"]}, {"tag": "餐廳", "ko": ["메뉴 추천해 주세요.", "아니요, 불가능합니다."], "zh": ["請推薦菜單。", "不行。"]}, {"tag": "節慶", "ko": ["축하해요!", "잠시만요, 확인해 드릴게요."], "zh": ["恭喜！", "請稍等，我確認一下。"]}, {"tag": "學校", "ko": ["수업은 몇 시에 끝나요?", "괜찮아요, 다음에 봐요."], "zh": ["課程幾點結束？", "沒關係，下次見。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "네, 가능합니다."], "zh": ["可以分享照片嗎？", "可以的。"]}, {"tag": "節慶", "ko": ["축하해요!", "잠시만요, 확인해 드릴게요."], "zh": ["恭喜！", "請稍等，我確認一下。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "괜찮아요, 다음에 봐요."], "zh": ["從這裡到弘大怎麼去？", "沒關係，下次見。"]}, {"tag": "電話", "ko": ["번호 좀 알려 주세요.", "가격은 이만 원입니다."], "zh": ["請告訴我電話號碼。", "價格是兩萬韓元。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "아니요, 불가능합니다."], "zh": ["今天氣溫如何？", "不行。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "아니요, 불가능합니다."], "zh": ["今天氣溫如何？", "不行。"]}, {"tag": "社交媒體", "ko": ["사진 공유해도 돼요?", "가격은 이만 원입니다."], "zh": ["可以分享照片嗎？", "價格是兩萬韓元。"]}, {"tag": "節慶", "ko": ["축하해요!", "잠시만요, 확인해 드릴게요."], "zh": ["恭喜！", "請稍等，我確認一下。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "가격은 이만 원입니다."], "zh": ["早餐從幾點開始？", "價格是兩萬韓元。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "아니요, 불가능합니다."], "zh": ["這個產品的保存期限是？", "不行。"]}, {"tag": "購物", "ko": ["이 제품 환불 가능한가요?", "괜찮아요, 다음에 봐요."], "zh": ["這個商品可以退貨嗎？", "沒關係，下次見。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터인가요?", "아니요, 불가능합니다."], "zh": ["早餐從幾點開始？", "不行。"]}, {"tag": "節慶", "ko": ["축하해요!", "네, 곧 준비해 드리겠습니다."], "zh": ["恭喜！", "好的，馬上為您準備。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "괜찮아요, 다음에 봐요."], "zh": ["今天氣溫如何？", "沒關係，下次見。"]}, {"tag": "餐廳", "ko": ["메뉴 추천해 주세요.", "네, 가능합니다."], "zh": ["請推薦菜單。", "可以的。"]}, {"tag": "電話", "ko": ["번호 좀 알려 주세요.", "네, 곧 준비해 드리겠습니다."], "zh": ["請告訴我電話號碼。", "好的，馬上為您準備。"]}, {"tag": "電話", "ko": ["번호 좀 알려 주세요.", "아니요, 불가능합니다."], "zh": ["請告訴我電話號碼。", "不行。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "잠시만요, 확인해 드릴게요."], "zh": ["這個工作的截止日是什麼時候？", "請稍等，我確認一下。"]}, {"tag": "健身", "ko": ["회원권 가격이 얼마예요?", "괜찮아요, 다음에 봐요."], "zh": ["會籍價格是多少？", "沒關係，下次見。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["今天氣溫如何？", "請稍等，我確認一下。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "아니요, 불가능합니다."], "zh": ["從這裡到弘大怎麼去？", "不行。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "아니요, 불가능합니다."], "zh": ["我想預約看診。", "不行。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "아니요, 불가능합니다."], "zh": ["你有帶作品集嗎？", "不行。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "아니요, 불가능합니다."], "zh": ["可以預訂電影票嗎？", "不行。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "가격은 이만 원입니다."], "zh": ["你有帶作品集嗎？", "價格是兩萬韓元。"]}, {"tag": "工作", "ko": ["이 업무 마감일이 언제예요?", "네, 가능합니다."], "zh": ["這個工作的截止日是什麼時候？", "可以的。"]}, {"tag": "面試", "ko": ["포트폴리오 가져오셨나요?", "괜찮아요, 다음에 봐요."], "zh": ["你有帶作品集嗎？", "沒關係，下次見。"]}, {"tag": "天氣", "ko": ["오늘 기온이 어떻게 돼요?", "괜찮아요, 다음에 봐요."], "zh": ["今天氣溫如何？", "沒關係，下次見。"]}, {"tag": "問路", "ko": ["여기서 홍대까지 어떻게 가요?", "괜찮아요, 다음에 봐요."], "zh": ["從這裡到弘大怎麼去？", "沒關係，下次見。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "네, 곧 준비해 드리겠습니다."], "zh": ["我想預約看診。", "好的，馬上為您準備。"]}, {"tag": "超市", "ko": ["이 제품 유통기한이 언제예요?", "네, 곧 준비해 드리겠습니다."], "zh": ["這個產品的保存期限是？", "好的，馬上為您準備。"]}, {"tag": "銀行", "ko": ["영업시간 알려 주세요.", "네, 곧 준비해 드리겠습니다."], "zh": ["請告訴我營業時間。", "好的，馬上為您準備。"]}, {"tag": "電影", "ko": ["영화 표 예매할 수 있어요?", "네, 가능합니다."], "zh": ["可以預訂電影票嗎？", "可以的。"]}];

    function renderJamo(list, elId) {
      const el = document.getElementById(elId);
      el.innerHTML = '';
      list.forEach(x => {
        const div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = `<div class="k">${x.j}</div><div class="small">例：${x.ex}</div><div class="small">${x.note}</div>`;
        div.addEventListener('click', ()=>speak(x.ex));
        el.appendChild(div);
      });
    }
    renderJamo(VOWELS, 'vowels');
    renderJamo(CONSONANTS, 'consonants');

    function renderDialogues(list){
      const box = document.getElementById('dialogueList');
      box.innerHTML = '';
      list.forEach((d, idx)=> {
        const wrap = document.createElement('div');
        wrap.className = 'box';
        const title = document.createElement('div');
        title.innerHTML = `<b>${idx+1}. ${d.tag}</b>`;
        wrap.appendChild(title);
        d.ko.forEach((line, i)=> {
          const row = document.createElement('div');
          row.className = 'dialogue';
          const left = document.createElement('div');
          left.innerHTML = `<div class="ko">🗣️ ${line}</div><div class="zh">— ${d.zh[i] || ''}</div>`;
          const right = document.createElement('div');
          const btn = document.createElement('button');
          btn.className = 'btn';
          btn.textContent = '▶ 朗讀';
          btn.addEventListener('click', ()=>speak(line));
          right.appendChild(btn);
          row.appendChild(left);
          row.appendChild(right);
          wrap.appendChild(row);
        });
        box.appendChild(wrap);
      });
    }
    renderDialogues(DIALOGUES);

    const q = document.getElementById('q');
    q.addEventListener('input', ()=> {
      const key = q.value.trim().toLowerCase();
      if(!key) { renderDialogues(DIALOGUES); return; }
      const f = DIALOGUES.filter(d => d.tag.toLowerCase().includes(key) || d.ko.join(' ').toLowerCase().includes(key) || d.zh.join(' ').toLowerCase().includes(key));
      renderDialogues(f);
    });
    function resetFilter(){ q.value=''; renderDialogues(DIALOGUES); }

    // ========= Service worker for PWA =========
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js');
    }
  </script>
</body>
</html>
