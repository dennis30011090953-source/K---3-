<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>韓語學習小站 v6 — 標籤/收藏/量詞/自定對話/測驗</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="./manifest.json" />
  <meta name="theme-color" content="#ff6680" />
  <style>
    :root { --pink:#ff6680; --sub:#ffe6eb; --bg:#fdfdfd; }
    body { font-family: "Microsoft JhengHei", system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans CJK TC", sans-serif; margin:0; background:var(--bg); color:#222; }
    header { background:var(--pink); color:#fff; padding:16px; text-align:center; }
    nav { position:sticky; top:0; background:var(--sub); padding:10px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap; z-index:10; }
    nav a { padding:8px 12px; font-weight:700; text-decoration:none; color:#333; background:#fff; border-radius:20px; border:1px solid #f1c2cc; }
    section { padding:16px; max-width:1100px; margin:0 auto; }
    h2 { color:var(--pink); margin:8px 0 12px; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(64px,1fr)); gap:10px; }
    .card { background:#fff; border:1px solid #f2d5dc; border-radius:10px; padding:10px; text-align:center; cursor:pointer; }
    .k{ font-size:26px; font-weight:900; }
    .small { font-size:12px; color:#666; margin-top:6px; }
    .box { background:#fff; border:1px solid #f2d5dc; border-radius:12px; padding:12px; margin:10px 0; }
    .row { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .chip { display:inline-block; padding:6px 10px; border-radius:999px; border:1px solid #e8b9c4; margin:4px; cursor:pointer; background:#fff; }
    .chip.active { background:var(--pink); color:#fff; border-color:var(--pink); }
    .btn { border:0; background:var(--pink); color:#fff; padding:8px 12px; border-radius:8px; font-weight:700; cursor:pointer; }
    .btn.outline { background:#fff; color:var(--pink); border:2px solid var(--pink); }
    .btn.ghost { background:#fff; color:#333; border:1px solid #ddd; }
    .search { width:100%; padding:10px 12px; border-radius:8px; border:1px solid #e8b9c4; }
    .dialogue { display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; border-bottom:1px dashed #f0c5cf; padding:10px 0; }
    .ko { font-weight:800; font-size:18px; }
    .zh { color:#444; font-size:14px; }
    .right { display:flex; gap:8px; align-items:center; }
    .fav { font-size:20px; cursor:pointer; }
    .numgrid { display:grid; grid-template-columns:repeat(auto-fill,minmax(90px,1fr)); gap:10px; }
    .numcard { background:#fff; border:1px solid #e7d6db; border-radius:10px; padding:10px; text-align:center; cursor:pointer; }
    footer { text-align:center; padding:14px; background:var(--pink); color:#fff; margin-top:20px; }
  </style>
</head>
<body>
  <header>
    <h1>韓語學習小站 v6</h1>
    <p>標籤篩選・收藏喜愛對話・量詞練習・自訂中文→韓文發音・測驗遊戲</p>
  </header>

  <nav>
    <a href="#voice">語音設定</a>
    <a href="#alphabet">40 音</a>
    <a href="#numbers">數字/量詞</a>
    <a href="#dialogues">200 組對話</a>
    <a href="#custom">自訂中文→韓文</a>
    <a href="#quiz">測驗遊戲</a>
  </nav>

  <section id="voice" class="box">
    <h2>語音設定（記住你的選擇）</h2>
    <div class="row">
      <label>選擇語音：</label>
      <select id="voiceSelect"></select>
      <label>速度</label><input id="rate" type="range" min="0.6" max="1.4" step="0.05" value="1">
      <label>音調</label><input id="pitch" type="range" min="0.6" max="1.4" step="0.05" value="1">
      <button class="btn" id="testBtn">▶ 測試：안녕하세요</button>
      <div class="small">若清單沒有韓文語音，請到系統下載韓文語音包。</div>
    </div>
  </section>

  <section id="alphabet">
    <h2>韓文 40 音</h2>
    <details open class="box">
      <summary>母音（21）</summary>
      <div id="vowels" class="grid"></div>
    </details>
    <details open class="box">
      <summary>子音（19）</summary>
      <div id="consonants" class="grid"></div>
    </details>
  </section>

  <section id="numbers" class="box">
    <h2>數字＋量詞練習</h2>
    <div class="row">
      <label>數字（1~10）：</label><input id="qtyNum" type="number" min="1" max="10" value="1" style="width:80px;">
      <label>量詞：</label>
      <select id="qtyCounter"></select>
      <button class="btn" id="qtySpeak">▶ 朗讀</button>
      <div id="qtyOut" class="small"></div>
    </div>
    <div style="margin-top:8px;" class="small">提示：以「system」決定用原生數詞（하나, 둘...）或漢字數詞（일, 이...）。</div>
    <h3>常用數詞卡</h3>
    <div id="numGrid" class="numgrid"></div>
  </section>

  <section id="dialogues">
    <h2>日常對話（200 組，含 50 組飾品情境）</h2>
    <div class="box">
      <div class="row">
        <input id="q" class="search" placeholder="搜尋主題/韓文/中文（例：飾品／가격／지하철）" />
        <button class="btn outline" onclick="resetFilter()">清除搜尋</button>
        <button class="btn ghost" id="showFav">只看收藏</button>
      </div>
      <div id="tagBar" style="margin-top:8px;"></div>
    </div>
    <div id="dialogueList"></div>
  </section>

  <section id="custom" class="box">
    <h2>自訂中文 → 韓文（發音練習）</h2>
    <div class="row">
      <input id="cnInput" class="search" placeholder="輸入中文句子（例：請給我一杯水）" style="flex:1;">
      <button class="btn" id="cnSuggest">產生建議韓文</button>
    </div>
    <div class="row" style="margin-top:8px;">
      <input id="koInput" class="search" placeholder="韓文結果（可自行修改）" style="flex:1;">
      <button class="btn" id="koSpeak">▶ 朗讀韓文</button>
      <button class="btn outline" id="saveCustom">加入到『我的對話』</button>
    </div>
    <div class="small">說明：此處的中文→韓文為簡易字典建議，請自行修正為最自然的表達。</div>
    <div id="myList" style="margin-top:10px;"></div>
  </section>

  <section id="quiz" class="box">
    <h2>測驗遊戲：配對韓文與中文</h2>
    <div class="row">
      <button class="btn" id="startQuiz">開始測驗</button>
      <div id="quizScore" class="small"></div>
    </div>
    <div id="quizArea" style="margin-top:10px;"></div>
  </section>

  <footer>© 2025 韓語學習小站 — v6（PWA 可離線）</footer>

  <script>
    const DATA_VOWELS = [{"j": "ㅏ", "ex": "아", "note": "a"}, {"j": "ㅐ", "ex": "애", "note": "ae"}, {"j": "ㅑ", "ex": "야", "note": "ya"}, {"j": "ㅒ", "ex": "얘", "note": "yae"}, {"j": "ㅓ", "ex": "어", "note": "eo"}, {"j": "ㅔ", "ex": "에", "note": "e"}, {"j": "ㅕ", "ex": "여", "note": "yeo"}, {"j": "ㅖ", "ex": "예", "note": "ye"}, {"j": "ㅗ", "ex": "오", "note": "o"}, {"j": "ㅘ", "ex": "와", "note": "wa"}, {"j": "ㅙ", "ex": "왜", "note": "wae"}, {"j": "ㅚ", "ex": "외", "note": "oe"}, {"j": "ㅛ", "ex": "요"}, {"j": "ㅜ", "ex": "우"}, {"j": "ㅝ", "ex": "워"}, {"j": "ㅞ", "ex": "웨"}, {"j": "ㅟ", "ex": "위"}, {"j": "ㅠ", "ex": "유"}, {"j": "ㅡ", "ex": "으"}, {"j": "ㅢ", "ex": "의"}, {"j": "ㅣ", "ex": "이"}];
    const DATA_CONSONANTS = [{"j": "ㄱ", "ex": "가", "note": "g/k"}, {"j": "ㄲ", "ex": "까", "note": "kk"}, {"j": "ㄴ", "ex": "나", "note": "n"}, {"j": "ㄷ", "ex": "다", "note": "d/t"}, {"j": "ㄸ", "ex": "따", "note": "tt"}, {"j": "ㄹ", "ex": "라", "note": "r/l"}, {"j": "ㅁ", "ex": "마", "note": "m"}, {"j": "ㅂ", "ex": "바", "note": "b/p"}, {"j": "ㅃ", "ex": "빠", "note": "pp"}, {"j": "ㅅ", "ex": "사", "note": "s"}, {"j": "ㅆ", "ex": "싸", "note": "ss"}, {"j": "ㅇ", "ex": "아", "note": "∅/ng"}, {"j": "ㅈ", "ex": "자", "note": "j"}, {"j": "ㅉ", "ex": "짜", "note": "jj"}, {"j": "ㅊ", "ex": "차", "note": "ch"}, {"j": "ㅋ", "ex": "카", "note": "k"}, {"j": "ㅌ", "ex": "타", "note": "t"}, {"j": "ㅍ", "ex": "파", "note": "p"}, {"j": "ㅎ", "ex": "하", "note": "h"}];
    const DATA_DIALOGUES = [{"tag": "飾品購買", "ko": ["이 목걸이 얼마예요?", "잠시만요, 확인해 드릴게요."], "zh": ["這條項鍊多少錢？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["이 반지 다른 색 있어요?", "잠시만요, 확인해 드릴게요."], "zh": ["這個戒指有其他顏色嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["할인 되나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["有折扣嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["재질이 무엇이에요?", "죄송하지만 현재는 어렵습니다."], "zh": ["材質是什麼？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["보증서 있어요?", "죄송하지만 현재는 어렵습니다."], "zh": ["有保固書嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["선물 포장 가능한가요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以做成禮盒包裝嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["교환할 수 있나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以換貨嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["사이즈 조절 되나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以調整尺寸嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["더 작은 사이즈 있어요?", "네, 가능합니다."], "zh": ["有更小尺寸嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["이건 실버예요 아니면 도금이에요?", "죄송하지만 현재는 어렵습니다."], "zh": ["這是純銀還是電鍍？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["카드로 결제돼요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以刷卡嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["배송은 얼마나 걸리나요?", "네, 가능합니다."], "zh": ["運送需要多久？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["수선 서비스 있나요?", "지금 행사로 10% 할인돼요."], "zh": ["有維修服務嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["이 디자인 더 있어요?", "죄송하지만 현재는 어렵습니다."], "zh": ["有更多這種設計嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["이거 할인 중인가요?", "네, 가능합니다."], "zh": ["這個正在打折嗎？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["포인트 적립 되나요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以累積點數嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["원하시면 사이즈 재어 드릴게요.", "죄송하지만 현재는 어렵습니다."], "zh": ["要的話我可以幫您量尺寸。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["인증서 보여 주세요.", "네, 가능합니다."], "zh": ["請出示證書。", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["해외 배송도 가능한가요?", "잠시만요, 확인해 드릴게요."], "zh": ["也可以海外配送嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["이 반지 착용감이 어떤가요?", "지금 행사로 10% 할인돼요."], "zh": ["戴起來的感覺如何？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["세트로 구매하면 할인 되나요?", "지금 행사로 10% 할인돼요."], "zh": ["如果買成套有折扣嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["한 번 착용해 봐도 될까요?", "죄송하지만 현재는 어렵습니다."], "zh": ["可以試戴一次嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["이건 새상품인가요?", "잠시만요, 확인해 드릴게요."], "zh": ["這是全新品嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["수리 비용은 얼마예요?", "잠시만요, 확인해 드릴게요."], "zh": ["維修費用是多少？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["이 보석은 진짜인가요?", "죄송하지만 현재는 어렵습니다."], "zh": ["這顆寶石是真的嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["각인 서비스 가능해요?", "지금 행사로 10% 할인돼요."], "zh": ["可以提供刻字服務嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["포인트 사용할게요.", "지금 행사로 10% 할인돼요."], "zh": ["我要使用點數。", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["영수증 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請給我收據。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["환불 가능한 기간이 어떻게 되나요?", "지금 행사로 10% 할인돼요."], "zh": ["可以退貨的期限是多久？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["이거 선물하려는데 추천해 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["我想送禮，請推薦。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["대량 구매하면 가격이 어떻게 되나요?", "네, 가능합니다."], "zh": ["大量購買價格如何？", "是的，可以。"]}, {"tag": "飾品購買", "ko": ["색상 변경 가능한가요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以換顏色嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["예산은 10만 원 정도예요.", "잠시만요, 확인해 드릴게요."], "zh": ["預算大約十萬韓元。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["이 디자인은 한정판인가요?", "지금 행사로 10% 할인돼요."], "zh": ["這是限量版嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["세척 방법을 알려 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["請告訴我清洗方法。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["포장 없이 가져가도 될까요?", "지금 행사로 10% 할인돼요."], "zh": ["不包裝可以帶走嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["재고가 있나요?", "지금 행사로 10% 할인돼요."], "zh": ["有庫存嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["선물용 카드 넣어 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["請放一張禮物卡。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["반지는 어느 손가락에 껴요?", "잠시만요, 확인해 드릴게요."], "zh": ["戒指戴哪個手指？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["같은 디자인 다른 사이즈 있나요?", "죄송하지만 현재는 어렵습니다."], "zh": ["同款有其他尺寸嗎？", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["배송 추적 번호 알려 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["請提供運送追蹤號碼。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["이건 수제작인가요?", "잠시만요, 확인해 드릴게요."], "zh": ["這是手工製作嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["증정품 있나요?", "잠시만요, 확인해 드릴게요."], "zh": ["有贈品嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["현금영수증 발급 가능해요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以開立現金收據嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["후기 쓰면 할인되나요?", "지금 행사로 10% 할인돼요."], "zh": ["寫評論會有折扣嗎？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["포인트로 전액 결제할 수 있나요?", "잠시만요, 확인해 드릴게요."], "zh": ["可以用點數全額付款嗎？", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["보관 방법 알려 주세요.", "잠시만요, 확인해 드릴게요."], "zh": ["請告訴我保存方式。", "請稍等，我幫您確認。"]}, {"tag": "飾品購買", "ko": ["A/S 기간이 얼마나 돼요?", "지금 행사로 10% 할인돼요."], "zh": ["保固維修期多久？", "現在活動可打九折。"]}, {"tag": "飾品購買", "ko": ["사이즈 측정 도와 주세요.", "죄송하지만 현재는 어렵습니다."], "zh": ["請幫我量尺寸。", "抱歉，目前不行。"]}, {"tag": "飾品購買", "ko": ["이 목걸이 얼마예요?", "지금 행사로 10% 할인돼요."], "zh": ["這條項鍊多少錢？", "現在活動可打九折。"]}, {"tag": "餐廳", "ko": ["자리 있어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["有位子嗎？", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["추천 메뉴가 뭐예요?", "네, 그렇게 하겠습니다."], "zh": ["有推薦的菜嗎？", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["덜 맵게 해 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請做不辣一點。", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["계산서 부탁해요.", "네, 그렇게 하겠습니다."], "zh": ["請給我帳單。", "好的，我會這樣做。"]}, {"tag": "交通", "ko": ["공항까지 택시 얼마예요?", "네, 그렇게 하겠습니다."], "zh": ["到機場計程車多少錢？", "好的，我會這樣做。"]}, {"tag": "交通", "ko": ["환승하려면 어디서 내려요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["要轉乘在哪站下？", "目前不行，抱歉。"]}, {"tag": "交通", "ko": ["티머니 충전은 어디서 해요?", "잠시만요, 확인해 볼게요."], "zh": ["T-money 在哪裡加值？", "請稍等，我查查看。"]}, {"tag": "問路", "ko": ["여기에서 명동까지 어떻게 가요?", "네, 그렇게 하겠습니다."], "zh": ["從這裡到明洞怎麼去？", "好的，我會這樣做。"]}, {"tag": "問路", "ko": ["지하철역은 어디예요?", "네, 그렇게 하겠습니다."], "zh": ["地鐵站在哪裡？", "好的，我會這樣做。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "잠시만요, 확인해 볼게요."], "zh": ["我想預約看診。", "請稍等，我查查看。"]}, {"tag": "醫院", "ko": ["증상이 언제부터였어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["症狀從什麼時候開始？", "目前不行，抱歉。"]}, {"tag": "學校", "ko": ["한국어 수업은 몇 시에 시작해요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["韓文課幾點開始？", "目前不行，抱歉。"]}, {"tag": "學校", "ko": ["숙제 제출 마감은 언제예요?", "잠시만요, 확인해 볼게요."], "zh": ["作業繳交期限是何時？", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["통장 만들고 싶어요.", "잠시만요, 확인해 볼게요."], "zh": ["我想開戶。", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["환전은 어디서 해요?", "네, 그렇게 하겠습니다."], "zh": ["在哪裡換匯？", "好的，我會這樣做。"]}, {"tag": "銀行", "ko": ["수수료가 얼마예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["手續費多少？", "目前不行，抱歉。"]}, {"tag": "旅館", "ko": ["체크인 부탁드립니다.", "잠시만요, 확인해 볼게요."], "zh": ["我要辦理入住。", "請稍等，我查查看。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터예요?", "네, 그렇게 하겠습니다."], "zh": ["早餐幾點開始？", "好的，我會這樣做。"]}, {"tag": "旅館", "ko": ["레이트 체크아웃 가능한가요?", "네, 그렇게 하겠습니다."], "zh": ["可以晚退嗎？", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["라떼 아이스로 주세요.", "네, 그렇게 하겠습니다."], "zh": ["請給我冰拿鐵。", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["샷 추가 가능해요?", "잠시만요, 확인해 볼게요."], "zh": ["可以加一份濃縮嗎？", "請稍等，我查查看。"]}, {"tag": "咖啡店", "ko": ["설탕 빼 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["不要糖。", "目前不行，抱歉。"]}, {"tag": "朋友聊天", "ko": ["주말에 뭐 할 거예요?", "잠시만요, 확인해 볼게요."], "zh": ["週末要做什麼？", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["요즘 어떻게 지내요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["最近過得如何？", "目前不行，抱歉。"]}, {"tag": "朋友聊天", "ko": ["시간 되면 같이 보자.", "잠시만요, 확인해 볼게요."], "zh": ["有空一起出來吧。", "請稍等，我查查看。"]}, {"tag": "工作", "ko": ["회의는 몇 시에 시작하나요?", "네, 그렇게 하겠습니다."], "zh": ["會議幾點開始？", "好的，我會這樣做。"]}, {"tag": "工作", "ko": ["마감이 언제예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["截止日是什麼時候？", "目前不行，抱歉。"]}, {"tag": "工作", "ko": ["자료 공유해 주세요.", "잠시만요, 확인해 볼게요."], "zh": ["請分享資料。", "請稍等，我查查看。"]}, {"tag": "數字練習", "ko": ["일, 이, 삼, 사, 오를 따라 읽어 보세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請跟著念：一、二、三、四、五。", "目前不行，抱歉。"]}, {"tag": "數字練習", "ko": ["십, 이십, 삼십, 사십—십 단위를 연습해요.", "잠시만요, 확인해 볼게요."], "zh": ["十、二十、三十、四十—練習十位數。", "請稍等，我查查看。"]}, {"tag": "餐廳", "ko": ["자리 있어요?", "잠시만요, 확인해 볼게요."], "zh": ["有位子嗎？", "請稍等，我查查看。"]}, {"tag": "餐廳", "ko": ["추천 메뉴가 뭐예요?", "네, 그렇게 하겠습니다."], "zh": ["有推薦的菜嗎？", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["덜 맵게 해 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請做不辣一點。", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["계산서 부탁해요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請給我帳單。", "目前不行，抱歉。"]}, {"tag": "交通", "ko": ["공항까지 택시 얼마예요?", "잠시만요, 확인해 볼게요."], "zh": ["到機場計程車多少錢？", "請稍等，我查查看。"]}, {"tag": "交通", "ko": ["환승하려면 어디서 내려요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["要轉乘在哪站下？", "目前不行，抱歉。"]}, {"tag": "交通", "ko": ["티머니 충전은 어디서 해요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["T-money 在哪裡加值？", "目前不行，抱歉。"]}, {"tag": "問路", "ko": ["여기에서 명동까지 어떻게 가요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["從這裡到明洞怎麼去？", "目前不行，抱歉。"]}, {"tag": "問路", "ko": ["지하철역은 어디예요?", "네, 그렇게 하겠습니다."], "zh": ["地鐵站在哪裡？", "好的，我會這樣做。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["我想預約看診。", "目前不行，抱歉。"]}, {"tag": "醫院", "ko": ["증상이 언제부터였어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["症狀從什麼時候開始？", "目前不行，抱歉。"]}, {"tag": "學校", "ko": ["한국어 수업은 몇 시에 시작해요?", "네, 그렇게 하겠습니다."], "zh": ["韓文課幾點開始？", "好的，我會這樣做。"]}, {"tag": "學校", "ko": ["숙제 제출 마감은 언제예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["作業繳交期限是何時？", "目前不行，抱歉。"]}, {"tag": "銀行", "ko": ["통장 만들고 싶어요.", "잠시만요, 확인해 볼게요."], "zh": ["我想開戶。", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["환전은 어디서 해요?", "네, 그렇게 하겠습니다."], "zh": ["在哪裡換匯？", "好的，我會這樣做。"]}, {"tag": "銀行", "ko": ["수수료가 얼마예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["手續費多少？", "目前不行，抱歉。"]}, {"tag": "旅館", "ko": ["체크인 부탁드립니다.", "네, 그렇게 하겠습니다."], "zh": ["我要辦理入住。", "好的，我會這樣做。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["早餐幾點開始？", "目前不行，抱歉。"]}, {"tag": "旅館", "ko": ["레이트 체크아웃 가능한가요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["可以晚退嗎？", "目前不行，抱歉。"]}, {"tag": "咖啡店", "ko": ["라떼 아이스로 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請給我冰拿鐵。", "目前不行，抱歉。"]}, {"tag": "咖啡店", "ko": ["샷 추가 가능해요?", "네, 그렇게 하겠습니다."], "zh": ["可以加一份濃縮嗎？", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["설탕 빼 주세요.", "잠시만요, 확인해 볼게요."], "zh": ["不要糖。", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["주말에 뭐 할 거예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["週末要做什麼？", "目前不行，抱歉。"]}, {"tag": "朋友聊天", "ko": ["요즘 어떻게 지내요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["最近過得如何？", "目前不行，抱歉。"]}, {"tag": "朋友聊天", "ko": ["시간 되면 같이 보자.", "지금은 어렵습니다. 죄송합니다."], "zh": ["有空一起出來吧。", "目前不行，抱歉。"]}, {"tag": "工作", "ko": ["회의는 몇 시에 시작하나요?", "잠시만요, 확인해 볼게요."], "zh": ["會議幾點開始？", "請稍等，我查查看。"]}, {"tag": "工作", "ko": ["마감이 언제예요?", "네, 그렇게 하겠습니다."], "zh": ["截止日是什麼時候？", "好的，我會這樣做。"]}, {"tag": "工作", "ko": ["자료 공유해 주세요.", "잠시만요, 확인해 볼게요."], "zh": ["請分享資料。", "請稍等，我查查看。"]}, {"tag": "數字練習", "ko": ["일, 이, 삼, 사, 오를 따라 읽어 보세요.", "네, 그렇게 하겠습니다."], "zh": ["請跟著念：一、二、三、四、五。", "好的，我會這樣做。"]}, {"tag": "數字練習", "ko": ["십, 이십, 삼십, 사십—십 단위를 연습해요.", "네, 그렇게 하겠습니다."], "zh": ["十、二十、三十、四十—練習十位數。", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["자리 있어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["有位子嗎？", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["추천 메뉴가 뭐예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["有推薦的菜嗎？", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["덜 맵게 해 주세요.", "네, 그렇게 하겠습니다."], "zh": ["請做不辣一點。", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["계산서 부탁해요.", "네, 그렇게 하겠습니다."], "zh": ["請給我帳單。", "好的，我會這樣做。"]}, {"tag": "交通", "ko": ["공항까지 택시 얼마예요?", "네, 그렇게 하겠습니다."], "zh": ["到機場計程車多少錢？", "好的，我會這樣做。"]}, {"tag": "交通", "ko": ["환승하려면 어디서 내려요?", "네, 그렇게 하겠습니다."], "zh": ["要轉乘在哪站下？", "好的，我會這樣做。"]}, {"tag": "交通", "ko": ["티머니 충전은 어디서 해요?", "잠시만요, 확인해 볼게요."], "zh": ["T-money 在哪裡加值？", "請稍等，我查查看。"]}, {"tag": "問路", "ko": ["여기에서 명동까지 어떻게 가요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["從這裡到明洞怎麼去？", "目前不行，抱歉。"]}, {"tag": "問路", "ko": ["지하철역은 어디예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["地鐵站在哪裡？", "目前不行，抱歉。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["我想預約看診。", "目前不行，抱歉。"]}, {"tag": "醫院", "ko": ["증상이 언제부터였어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["症狀從什麼時候開始？", "目前不行，抱歉。"]}, {"tag": "學校", "ko": ["한국어 수업은 몇 시에 시작해요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["韓文課幾點開始？", "目前不行，抱歉。"]}, {"tag": "學校", "ko": ["숙제 제출 마감은 언제예요?", "네, 그렇게 하겠습니다."], "zh": ["作業繳交期限是何時？", "好的，我會這樣做。"]}, {"tag": "銀行", "ko": ["통장 만들고 싶어요.", "잠시만요, 확인해 볼게요."], "zh": ["我想開戶。", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["환전은 어디서 해요?", "잠시만요, 확인해 볼게요."], "zh": ["在哪裡換匯？", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["수수료가 얼마예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["手續費多少？", "目前不行，抱歉。"]}, {"tag": "旅館", "ko": ["체크인 부탁드립니다.", "네, 그렇게 하겠습니다."], "zh": ["我要辦理入住。", "好的，我會這樣做。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["早餐幾點開始？", "目前不行，抱歉。"]}, {"tag": "旅館", "ko": ["레이트 체크아웃 가능한가요?", "네, 그렇게 하겠습니다."], "zh": ["可以晚退嗎？", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["라떼 아이스로 주세요.", "네, 그렇게 하겠습니다."], "zh": ["請給我冰拿鐵。", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["샷 추가 가능해요?", "잠시만요, 확인해 볼게요."], "zh": ["可以加一份濃縮嗎？", "請稍等，我查查看。"]}, {"tag": "咖啡店", "ko": ["설탕 빼 주세요.", "네, 그렇게 하겠습니다."], "zh": ["不要糖。", "好的，我會這樣做。"]}, {"tag": "朋友聊天", "ko": ["주말에 뭐 할 거예요?", "잠시만요, 확인해 볼게요."], "zh": ["週末要做什麼？", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["요즘 어떻게 지내요?", "잠시만요, 확인해 볼게요."], "zh": ["最近過得如何？", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["시간 되면 같이 보자.", "잠시만요, 확인해 볼게요."], "zh": ["有空一起出來吧。", "請稍等，我查查看。"]}, {"tag": "工作", "ko": ["회의는 몇 시에 시작하나요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["會議幾點開始？", "目前不行，抱歉。"]}, {"tag": "工作", "ko": ["마감이 언제예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["截止日是什麼時候？", "目前不行，抱歉。"]}, {"tag": "工作", "ko": ["자료 공유해 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請分享資料。", "目前不行，抱歉。"]}, {"tag": "數字練習", "ko": ["일, 이, 삼, 사, 오를 따라 읽어 보세요.", "네, 그렇게 하겠습니다."], "zh": ["請跟著念：一、二、三、四、五。", "好的，我會這樣做。"]}, {"tag": "數字練習", "ko": ["십, 이십, 삼십, 사십—십 단위를 연습해요.", "잠시만요, 확인해 볼게요."], "zh": ["十、二十、三十、四十—練習十位數。", "請稍等，我查查看。"]}, {"tag": "餐廳", "ko": ["자리 있어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["有位子嗎？", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["추천 메뉴가 뭐예요?", "잠시만요, 확인해 볼게요."], "zh": ["有推薦的菜嗎？", "請稍等，我查查看。"]}, {"tag": "餐廳", "ko": ["덜 맵게 해 주세요.", "네, 그렇게 하겠습니다."], "zh": ["請做不辣一點。", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["계산서 부탁해요.", "네, 그렇게 하겠습니다."], "zh": ["請給我帳單。", "好的，我會這樣做。"]}, {"tag": "交通", "ko": ["공항까지 택시 얼마예요?", "잠시만요, 확인해 볼게요."], "zh": ["到機場計程車多少錢？", "請稍等，我查查看。"]}, {"tag": "交通", "ko": ["환승하려면 어디서 내려요?", "잠시만요, 확인해 볼게요."], "zh": ["要轉乘在哪站下？", "請稍等，我查查看。"]}, {"tag": "交通", "ko": ["티머니 충전은 어디서 해요?", "네, 그렇게 하겠습니다."], "zh": ["T-money 在哪裡加值？", "好的，我會這樣做。"]}, {"tag": "問路", "ko": ["여기에서 명동까지 어떻게 가요?", "잠시만요, 확인해 볼게요."], "zh": ["從這裡到明洞怎麼去？", "請稍等，我查查看。"]}, {"tag": "問路", "ko": ["지하철역은 어디예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["地鐵站在哪裡？", "目前不行，抱歉。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["我想預約看診。", "目前不行，抱歉。"]}, {"tag": "醫院", "ko": ["증상이 언제부터였어요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["症狀從什麼時候開始？", "目前不行，抱歉。"]}, {"tag": "學校", "ko": ["한국어 수업은 몇 시에 시작해요?", "잠시만요, 확인해 볼게요."], "zh": ["韓文課幾點開始？", "請稍等，我查查看。"]}, {"tag": "學校", "ko": ["숙제 제출 마감은 언제예요?", "네, 그렇게 하겠습니다."], "zh": ["作業繳交期限是何時？", "好的，我會這樣做。"]}, {"tag": "銀行", "ko": ["통장 만들고 싶어요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["我想開戶。", "目前不行，抱歉。"]}, {"tag": "銀行", "ko": ["환전은 어디서 해요?", "네, 그렇게 하겠습니다."], "zh": ["在哪裡換匯？", "好的，我會這樣做。"]}, {"tag": "銀行", "ko": ["수수료가 얼마예요?", "잠시만요, 확인해 볼게요."], "zh": ["手續費多少？", "請稍等，我查查看。"]}, {"tag": "旅館", "ko": ["체크인 부탁드립니다.", "네, 그렇게 하겠습니다."], "zh": ["我要辦理入住。", "好的，我會這樣做。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터예요?", "잠시만요, 확인해 볼게요."], "zh": ["早餐幾點開始？", "請稍等，我查查看。"]}, {"tag": "旅館", "ko": ["레이트 체크아웃 가능한가요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["可以晚退嗎？", "目前不行，抱歉。"]}, {"tag": "咖啡店", "ko": ["라떼 아이스로 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請給我冰拿鐵。", "目前不行，抱歉。"]}, {"tag": "咖啡店", "ko": ["샷 추가 가능해요?", "네, 그렇게 하겠습니다."], "zh": ["可以加一份濃縮嗎？", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["설탕 빼 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["不要糖。", "目前不行，抱歉。"]}, {"tag": "朋友聊天", "ko": ["주말에 뭐 할 거예요?", "네, 그렇게 하겠습니다."], "zh": ["週末要做什麼？", "好的，我會這樣做。"]}, {"tag": "朋友聊天", "ko": ["요즘 어떻게 지내요?", "잠시만요, 확인해 볼게요."], "zh": ["最近過得如何？", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["시간 되면 같이 보자.", "잠시만요, 확인해 볼게요."], "zh": ["有空一起出來吧。", "請稍等，我查查看。"]}, {"tag": "工作", "ko": ["회의는 몇 시에 시작하나요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["會議幾點開始？", "目前不行，抱歉。"]}, {"tag": "工作", "ko": ["마감이 언제예요?", "네, 그렇게 하겠습니다."], "zh": ["截止日是什麼時候？", "好的，我會這樣做。"]}, {"tag": "工作", "ko": ["자료 공유해 주세요.", "잠시만요, 확인해 볼게요."], "zh": ["請分享資料。", "請稍等，我查查看。"]}, {"tag": "數字練習", "ko": ["일, 이, 삼, 사, 오를 따라 읽어 보세요.", "잠시만요, 확인해 볼게요."], "zh": ["請跟著念：一、二、三、四、五。", "請稍等，我查查看。"]}, {"tag": "數字練習", "ko": ["십, 이십, 삼십, 사십—십 단위를 연습해요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["十、二十、三十、四十—練習十位數。", "目前不行，抱歉。"]}, {"tag": "餐廳", "ko": ["자리 있어요?", "네, 그렇게 하겠습니다."], "zh": ["有位子嗎？", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["추천 메뉴가 뭐예요?", "잠시만요, 확인해 볼게요."], "zh": ["有推薦的菜嗎？", "請稍等，我查查看。"]}, {"tag": "餐廳", "ko": ["덜 맵게 해 주세요.", "네, 그렇게 하겠습니다."], "zh": ["請做不辣一點。", "好的，我會這樣做。"]}, {"tag": "餐廳", "ko": ["계산서 부탁해요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請給我帳單。", "目前不行，抱歉。"]}, {"tag": "交通", "ko": ["공항까지 택시 얼마예요?", "잠시만요, 확인해 볼게요."], "zh": ["到機場計程車多少錢？", "請稍等，我查查看。"]}, {"tag": "交通", "ko": ["환승하려면 어디서 내려요?", "잠시만요, 확인해 볼게요."], "zh": ["要轉乘在哪站下？", "請稍等，我查查看。"]}, {"tag": "交通", "ko": ["티머니 충전은 어디서 해요?", "네, 그렇게 하겠습니다."], "zh": ["T-money 在哪裡加值？", "好的，我會這樣做。"]}, {"tag": "問路", "ko": ["여기에서 명동까지 어떻게 가요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["從這裡到明洞怎麼去？", "目前不行，抱歉。"]}, {"tag": "問路", "ko": ["지하철역은 어디예요?", "잠시만요, 확인해 볼게요."], "zh": ["地鐵站在哪裡？", "請稍等，我查查看。"]}, {"tag": "醫院", "ko": ["진료 예약하고 싶어요.", "잠시만요, 확인해 볼게요."], "zh": ["我想預約看診。", "請稍等，我查查看。"]}, {"tag": "醫院", "ko": ["증상이 언제부터였어요?", "네, 그렇게 하겠습니다."], "zh": ["症狀從什麼時候開始？", "好的，我會這樣做。"]}, {"tag": "學校", "ko": ["한국어 수업은 몇 시에 시작해요?", "잠시만요, 확인해 볼게요."], "zh": ["韓文課幾點開始？", "請稍等，我查查看。"]}, {"tag": "學校", "ko": ["숙제 제출 마감은 언제예요?", "잠시만요, 확인해 볼게요."], "zh": ["作業繳交期限是何時？", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["통장 만들고 싶어요.", "잠시만요, 확인해 볼게요."], "zh": ["我想開戶。", "請稍等，我查查看。"]}, {"tag": "銀行", "ko": ["환전은 어디서 해요?", "네, 그렇게 하겠습니다."], "zh": ["在哪裡換匯？", "好的，我會這樣做。"]}, {"tag": "銀行", "ko": ["수수료가 얼마예요?", "네, 그렇게 하겠습니다."], "zh": ["手續費多少？", "好的，我會這樣做。"]}, {"tag": "旅館", "ko": ["체크인 부탁드립니다.", "네, 그렇게 하겠습니다."], "zh": ["我要辦理入住。", "好的，我會這樣做。"]}, {"tag": "旅館", "ko": ["조식은 몇 시부터예요?", "지금은 어렵습니다. 죄송합니다."], "zh": ["早餐幾點開始？", "目前不行，抱歉。"]}, {"tag": "旅館", "ko": ["레이트 체크아웃 가능한가요?", "네, 그렇게 하겠습니다."], "zh": ["可以晚退嗎？", "好的，我會這樣做。"]}, {"tag": "咖啡店", "ko": ["라떼 아이스로 주세요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["請給我冰拿鐵。", "目前不行，抱歉。"]}, {"tag": "咖啡店", "ko": ["샷 추가 가능해요?", "잠시만요, 확인해 볼게요."], "zh": ["可以加一份濃縮嗎？", "請稍等，我查查看。"]}, {"tag": "咖啡店", "ko": ["설탕 빼 주세요.", "네, 그렇게 하겠습니다."], "zh": ["不要糖。", "好的，我會這樣做。"]}, {"tag": "朋友聊天", "ko": ["주말에 뭐 할 거예요?", "잠시만요, 확인해 볼게요."], "zh": ["週末要做什麼？", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["요즘 어떻게 지내요?", "잠시만요, 확인해 볼게요."], "zh": ["最近過得如何？", "請稍等，我查查看。"]}, {"tag": "朋友聊天", "ko": ["시간 되면 같이 보자.", "지금은 어렵습니다. 죄송합니다."], "zh": ["有空一起出來吧。", "目前不行，抱歉。"]}, {"tag": "工作", "ko": ["회의는 몇 시에 시작하나요?", "잠시만요, 확인해 볼게요."], "zh": ["會議幾點開始？", "請稍等，我查查看。"]}, {"tag": "工作", "ko": ["마감이 언제예요?", "잠시만요, 확인해 볼게요."], "zh": ["截止日是什麼時候？", "請稍等，我查查看。"]}, {"tag": "工作", "ko": ["자료 공유해 주세요.", "네, 그렇게 하겠습니다."], "zh": ["請分享資料。", "好的，我會這樣做。"]}, {"tag": "數字練習", "ko": ["일, 이, 삼, 사, 오를 따라 읽어 보세요.", "잠시만요, 확인해 볼게요."], "zh": ["請跟著念：一、二、三、四、五。", "請稍等，我查查看。"]}, {"tag": "數字練習", "ko": ["십, 이십, 삼십, 사십—십 단위를 연습해요.", "지금은 어렵습니다. 죄송합니다."], "zh": ["十、二十、三十、四十—練習十位數。", "目前不行，抱歉。"]}];
    const DATA_COUNTERS = [{"counter": "개", "note": "一般物品（個）", "system": "native"}, {"counter": "명", "note": "人（名）", "system": "native"}, {"counter": "사람", "note": "人（口語）", "system": "native"}, {"counter": "마리", "note": "動物（隻）", "system": "native"}, {"counter": "잔", "note": "杯（飲料）", "system": "native"}, {"counter": "병", "note": "瓶", "system": "native"}, {"counter": "권", "note": "本（書）", "system": "native"}, {"counter": "장", "note": "張（票/紙）", "system": "native"}, {"counter": "대", "note": "台（車/機器）", "system": "native"}, {"counter": "시간", "note": "小時（持續）", "system": "native"}, {"counter": "살", "note": "歲", "system": "native"}, {"counter": "시", "note": "點（時）", "system": "native"}, {"counter": "번", "note": "次數", "system": "sino"}, {"counter": "층", "note": "樓層", "system": "sino"}, {"counter": "월", "note": "月份", "system": "sino"}, {"counter": "일", "note": "日期", "system": "sino"}, {"counter": "원", "note": "韓元", "system": "sino"}];
    const DATA_NATIVE = {"1": "하나", "2": "둘", "3": "셋", "4": "넷", "5": "다섯", "6": "여섯", "7": "일곱", "8": "여덟", "9": "아홉", "10": "열"};
    const DATA_SINO = {"1": "일", "2": "이", "3": "삼", "4": "사", "5": "오", "6": "육", "7": "칠", "8": "팔", "9": "구", "10": "십"};
    const DATA_CN2KO = {"你好": "안녕하세요", "謝謝": "감사합니다", "對不起": "죄송합니다", "請給我": "주세요", "多少錢": "얼마예요?", "可以幫我": "도와 주세요", "在哪裡": "어디예요?", "廁所": "화장실", "我要點餐": "주문할게요", "不要辣": "안 맵게 해 주세요", "我要結帳": "계산해 주세요", "有沒有": "있어요?", "可以嗎": "가능해요?", "不好意思": "실례합니다", "再見": "안녕히 가세요"};

    // ====== Persistence ======
    let VOICES = [];
    const save = (k,v)=>localStorage.setItem(k, JSON.stringify(v));
    const load = (k,def)=>{ try{ const v=localStorage.getItem(k); return v? JSON.parse(v): def; }catch(e){ return def; } };
    const saveStr = (k,v)=>localStorage.setItem(k,v);
    const loadStr = (k,def)=>{ const v=localStorage.getItem(k); return v===null? def: v; };

    function speak(text){
      const msg = new SpeechSynthesisUtterance(text);
      const rate = parseFloat(loadStr('rate','1')); const pitch = parseFloat(loadStr('pitch','1'));
      msg.rate = rate; msg.pitch = pitch;
      const pickName = loadStr('voiceName','');
      const voices = window.speechSynthesis.getVoices();
      let voice = voices.find(v=>v.name===pickName) || voices.find(v=>(v.lang||'').toLowerCase().startsWith('ko')) || voices[0];
      if (voice) msg.voice = voice;
      if (!((voice && (voice.lang||'').toLowerCase().startsWith('ko'))) && /[가-힣]/.test(text)) msg.lang='ko-KR';
      window.speechSynthesis.cancel(); window.speechSynthesis.speak(msg);
    }

    function populateVoices(){
      VOICES = window.speechSynthesis.getVoices();
      const sel = document.getElementById('voiceSelect'); sel.innerHTML = '';
      const sorted = VOICES.slice().sort((a,b)=> (a.lang||'').localeCompare(b.lang||''));
      sorted.forEach(v=>{ const opt=document.createElement('option'); opt.value=v.name; opt.textContent=`${v.name} — ${v.lang}`; sel.appendChild(opt); });
      const saved = loadStr('voiceName','');
      if (saved && sorted.find(v=>v.name===saved)) sel.value = saved;
      else { const ko = sorted.find(v=>(v.lang||'').toLowerCase().startsWith('ko')); sel.value = ko? ko.name : (sorted[0]? sorted[0].name : ''); }
    }
    window.speechSynthesis.onvoiceschanged = populateVoices;
    populateVoices();
    document.getElementById('voiceSelect').addEventListener('change', e=> saveStr('voiceName', e.target.value));
    document.getElementById('rate').value = loadStr('rate','1');
    document.getElementById('pitch').value = loadStr('pitch','1');
    document.getElementById('rate').addEventListener('input', e=> saveStr('rate', e.target.value));
    document.getElementById('pitch').addEventListener('input', e=> saveStr('pitch', e.target.value));
    document.getElementById('testBtn').addEventListener('click', ()=>speak('안녕하세요'));

    // 40音
    function renderJamo(list, el){ el.innerHTML=''; list.forEach(x=>{ const d=document.createElement('div'); d.className='card'; d.innerHTML=`<div class="k">${x.j}</div><div class="small">例：${x.ex||''}</div><div class="small">${x.note||''}</div>`; d.onclick=()=>speak(x.ex||x.j); el.appendChild(d); }); }
    renderJamo(DATA_VOWELS, document.getElementById('vowels'));
    renderJamo(DATA_CONSONANTS, document.getElementById('consonants'));

    // 數字＋量詞
    const counterSel = document.getElementById('qtyCounter');
    DATA_COUNTERS.forEach(c=>{ const opt=document.createElement('option'); opt.value=c.counter; opt.textContent=`${c.counter} — ${c.note} (${c.system==='native'?'原生數詞':'漢字數詞'})`; opt.dataset.system=c.system; counterSel.appendChild(opt); });
    function buildQty(){
      const n = Math.max(1, Math.min(10, parseInt(document.getElementById('qtyNum').value||'1')));
      const sel = counterSel.options[counterSel.selectedIndex]; const system = sel.dataset.system;
      const numword = (system==='native'? DATA_NATIVE[n]: DATA_SINO[n]);
      const phrase = `${numword} ${sel.value}`; document.getElementById('qtyOut').textContent = `→ 韓文讀法：${phrase}`; speak(phrase);
    }
    document.getElementById('qtySpeak').addEventListener('click', buildQty);

    const numGrid = document.getElementById('numGrid');
    [1,2,3,4,5,6,7,8,9,10].forEach(n=>{ const d=document.createElement('div'); d.className='numcard'; d.innerHTML=`<div class="k">${DATA_NATIVE[n]}</div><div class="small">原生數詞 ${n}</div>`; d.onclick=()=>speak(DATA_NATIVE[n]); numGrid.appendChild(d); });
    [1,2,3,4,5,6,7,8,9,10].forEach(n=>{ const d=document.createElement('div'); d.className='numcard'; d.innerHTML=`<div class="k">${DATA_SINO[n]}</div><div class="small">漢字數詞 ${n}</div>`; d.onclick=()=>speak(DATA_SINO[n]); numGrid.appendChild(d); });

    // 對話：搜尋＋標籤＋收藏
    const favSet = new Set(load('favs', []));
    const tagBar = document.getElementById('tagBar');
    const allTags = Array.from(new Set(DATA_DIALOGUES.map(d=>d.tag))).sort();
    const activeTags = new Set();
    function renderTags(){
      tagBar.innerHTML='';
      allTags.forEach(t=>{ const chip=document.createElement('span'); chip.className='chip'; chip.textContent=t; if(activeTags.has(t)) chip.classList.add('active'); chip.onclick=()=>{ if(activeTags.has(t)) activeTags.delete(t); else activeTags.add(t); renderList(); renderTags(); }; tagBar.appendChild(chip); });
      if(activeTags.size){ const clear=document.createElement('button'); clear.className='btn ghost'; clear.textContent='清除標籤'; clear.onclick=()=>{ activeTags.clear(); renderList(); renderTags(); }; tagBar.appendChild(clear); }
    }
    renderTags();

    const onlyFavBtn = document.getElementById('showFav');
    let onlyFav = false; onlyFavBtn.onclick=()=>{ onlyFav=!onlyFav; onlyFavBtn.textContent = onlyFav? '顯示全部' : '只看收藏'; renderList(); };

    const listEl = document.getElementById('dialogueList');
    function toggleFav(key){ if (favSet.has(key)) favSet.delete(key); else favSet.add(key); save('favs', Array.from(favSet)); renderList(); }
    function renderList(){
      const key = (document.getElementById('q').value||'').trim().toLowerCase(); listEl.innerHTML='';
      let data = DATA_DIALOGUES.map((d,idx)=>Object.assign({idx}, d));
      if (key) data = data.filter(d => d.tag.toLowerCase().includes(key) || d.ko.join(' ').toLowerCase().includes(key) || d.zh.join(' ').toLowerCase().includes(key));
      if (activeTags.size) data = data.filter(d => activeTags.has(d.tag));
      if (onlyFav) data = data.filter(d => favSet.has(d.idx));
      data.forEach(d=>{
        const wrap=document.createElement('div'); wrap.className='box';
        const title=document.createElement('div'); title.innerHTML=`<b>${d.idx+1}. ${d.tag}</b>`; wrap.appendChild(title);
        d.ko.forEach((line,i)=>{
          const row=document.createElement('div'); row.className='dialogue';
          const left=document.createElement('div'); left.innerHTML=`<div class="ko">🗣️ ${line}</div><div class="zh">— ${d.zh[i] || ''}</div>`;
          const right=document.createElement('div'); right.className='right';
          const speakBtn=document.createElement('button'); speakBtn.className='btn'; speakBtn.textContent='▶ 朗讀'; speakBtn.onclick=()=>speak(line);
          const fav=document.createElement('span'); fav.className='fav'; fav.textContent = favSet.has(d.idx)? '❤️' : '🤍'; fav.title='收藏/取消收藏'; fav.onclick=()=>toggleFav(d.idx);
          right.appendChild(speakBtn); right.appendChild(fav);
          row.appendChild(left); row.appendChild(right); wrap.appendChild(row);
        });
        listEl.appendChild(wrap);
      });
    }
    renderList();
    document.getElementById('q').addEventListener('input', renderList);
    function resetFilter(){ document.getElementById('q').value=''; activeTags.clear(); onlyFav=false; document.getElementById('showFav').textContent='只看收藏'; renderList(); renderTags(); }
    window.resetFilter = resetFilter;

    // 自訂中文→韓文
    const cnInput = document.getElementById('cnInput');
    const koInput = document.getElementById('koInput');
    document.getElementById('cnSuggest').onclick = ()=>{
      const txt = (cnInput.value||'').trim(); if(!txt) return;
      let out = txt; for (const k in DATA_CN2KO){ if(out.includes(k)) out = out.replaceAll(k, DATA_CN2KO[k]); }
      out = out.replaceAll('請','').replaceAll('幫我','').trim();
      if (!/[가-힣]/.test(out)) out = '한국어로 수정해 주세요';
      koInput.value = out;
    };
    document.getElementById('koSpeak').onclick = ()=>{ const t=(koInput.value||'').trim(); if(t) speak(t); };

    const myListEl = document.getElementById('myList');
    function renderMy(){
      const mine = load('myDialogues', []); myListEl.innerHTML = '<h3>我的對話</h3>';
      if (!mine.length) myListEl.innerHTML += '<div class="small">尚無自訂對話</div>';
      mine.forEach((d,idx)=>{
        const row=document.createElement('div'); row.className='dialogue';
        const left=document.createElement('div'); left.innerHTML=`<div class="ko">🗣️ ${d.ko}</div><div class="zh">— ${d.cn}</div>`;
        const right=document.createElement('div'); right.className='right';
        const btn=document.createElement('button'); btn.className='btn'; btn.textContent='▶ 朗讀'; btn.onclick=()=>speak(d.ko);
        const del=document.createElement('button'); del.className='btn outline'; del.textContent='刪除'; del.onclick=()=>{ const arr=load('myDialogues',[]); arr.splice(idx,1); save('myDialogues',arr); renderMy(); };
        right.appendChild(btn); right.appendChild(del); row.appendChild(left); row.appendChild(right); myListEl.appendChild(row);
      });
    }
    renderMy();
    document.getElementById('saveCustom').onclick = ()=>{
      const cn=(cnInput.value||'').trim(); const ko=(koInput.value||'').trim(); if(!cn||!ko) return;
      const arr = load('myDialogues', []); arr.unshift({cn, ko}); save('myDialogues', arr); cnInput.value=''; koInput.value=''; renderMy();
    };

    // 測驗遊戲
    let quizData = []; let score=0; let total=0;
    function startQuiz(){
      const pool = []; DATA_DIALOGUES.forEach(d=> d.ko.forEach((k,i)=>{ pool.push({ko:k, zh:d.zh[i]||''}); }));
      quizData = pool.sort(()=>Math.random()-0.5).slice(0,20); score=0; total=0; renderQuiz();
    }
    function renderQuiz(){
      const area=document.getElementById('quizArea'); const scoreBox=document.getElementById('quizScore');
      if (total>=quizData.length){ area.innerHTML='<b>完成！</b>'; scoreBox.textContent = `得分：${score} / ${quizData.length}`; return; }
      const q = quizData[total];
      const allZH = DATA_DIALOGUES.flatMap(d=>d.zh).filter(Boolean);
      const opts = new Set([q.zh]); while(opts.size<4) opts.add(allZH[Math.floor(Math.random()*allZH.length)]);
      const choices = Array.from(opts).sort(()=>Math.random()-0.5);
      area.innerHTML='';
      const box=document.createElement('div'); box.className='box'; box.innerHTML = `<div class="ko">🗣️ ${q.ko}</div><div class="small">請選出正確中文意思</div>`;
      const row=document.createElement('div'); row.className='row';
      choices.forEach(c=>{ const b=document.createElement('button'); b.className='btn ghost'; b.textContent=c; b.onclick=()=>{ if(c===q.zh) score++; total++; renderQuiz(); }; row.appendChild(b); });
      const speakBtn=document.createElement('button'); speakBtn.className='btn'; speakBtn.textContent='▶ 朗讀韓文'; speakBtn.onclick=()=>speak(q.ko);
      box.appendChild(document.createElement('br')); box.appendChild(speakBtn); area.appendChild(box); area.appendChild(row);
      scoreBox.textContent = `目前得分：${score} / ${total}`;
    }
    document.getElementById('startQuiz').onclick = startQuiz;

    // PWA
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('./service-worker.js');
  </script>
</body>
</html>
